[{"name":"/rooms","nodes":[{"id":"0d1bb9ec-4a05-1455-d624-958e9790f978","type":"Page","parameters":{"title":"Rooms","urlPath":"rooms"},"ports":[],"children":[{"id":"71c36777-d3c6-a95d-f6cc-66f48eb8d01a","type":"Group","parameters":{"flexDirection":"column","sizeMode":"explicit"},"ports":[],"children":[{"id":"a43f8e1c-a329-2fd7-2270-d0801df03ec3","type":"Group","parameters":{"borderStyle":"solid","zIndex":0,"alignY":"center","flexDirection":"column","columnGap":{"value":60,"unit":"px"},"alignX":"center","width":{"value":50,"unit":"%"},"sizeMode":"contentHeight"},"ports":[],"children":[{"id":"c6187416-fc3e-7b08-1b32-8a201b718e92","type":"net.noodl.controls.textinput","parameters":{"sizeMode":"explicit","height":{"value":60,"unit":"px"},"width":{"value":80,"unit":"%"},"alignX":"center","placeHolderOpacity":0.4,"label":"Type room id","labelfontSize":{"value":20,"unit":"px"},"fontSize":{"value":20,"unit":"px"},"marginTop":{"value":20,"unit":"px"},"maxLength":36},"ports":[],"children":[]},{"id":"8e3a8067-8efd-0488-271d-4d68f7ba29d6","type":"Group","parameters":{"rowGap":{"value":8,"unit":"px"},"sizeMode":"contentSize","flexDirection":"row","alignX":"center","marginTop":{"value":20,"unit":"px"},"columnGap":{"value":12,"unit":"px"}},"ports":[],"children":[{"id":"049476ba-cb44-e143-7aa5-e1c37add2577","type":"net.noodl.controls.button","parameters":{"label":"Create a new room","alignY":"center"},"ports":[],"children":[]},{"id":"2c13a7e3-ef3b-ab79-4fa0-2cde2f6cf35d","type":"Text","parameters":{"text":"or","textAlignX":"center","alignY":"center","fontSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"b5e221cf-8cc1-982e-7306-c84485e125a5","type":"net.noodl.controls.button","parameters":{"label":"Join a room","alignY":"center"},"ports":[],"children":[]}]},{"id":"3f9c52b8-9900-e3ab-97aa-f8068e4065b9","type":"Text","parameters":{"textAlignX":"left","width":{"value":80,"unit":"%"},"alignX":"center","color":"#FF0000","textTransform":"uppercase","fontFamily":"fonts/Roboto/Roboto-Bold.ttf"},"ports":[],"children":[]},{"id":"811ca13a-2ca6-939f-f889-fadaec9c5953","type":"Text","parameters":{"fontSize":{"value":20,"unit":"px"},"textStyle":"Label Small","color":"Grey - 700","text":"Available rooms:","width":{"value":80,"unit":"%"},"alignX":"center","marginTop":{"value":16,"unit":"px"},"marginBottom":{"value":4,"unit":"px"}},"ports":[],"children":[]},{"id":"a8c6bbe7-29ce-6b92-56ae-785112b5a54b","type":"Group","parameters":{"width":{"value":100,"unit":"%"},"alignX":"center","scrollEnabled":true,"nativeScroll":true,"showScrollbar":true,"maxHeight":{"value":30,"unit":"vh"},"scrollSnapEnabled":false,"marginBottom":{"value":20,"unit":"px"},"styleCss":"/* background-color: red; */\r\nscrollbar-width: thin;\r\nscrollbar-color: grey;\r\noverflow: hidden;","paddingLeft":{"value":10,"unit":"%"},"paddingRight":{"value":10,"unit":"%"}},"ports":[],"children":[{"id":"306f9908-87d1-d8a4-6139-0461bf595b36","type":"For Each","parameters":{"template":"/room_in_list"},"ports":[],"children":[]}]}]},{"id":"482f5ca4-3f90-701e-8b76-f635fd971803","type":"Group","parameters":{"borderStyle":"none","paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"paddingTop":{"value":8,"unit":"px"},"paddingBottom":{"value":8,"unit":"px"},"backgroundColor":"#FFFFFF","sizeMode":"contentHeight","alignX":"center","width":{"value":80,"unit":"%"},"flexDirection":"column"},"ports":[],"children":[{"id":"4b24abde-b53c-733f-b084-25dcb9b6d58b","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"center","flexDirection":"row"},"ports":[],"children":[{"id":"a92f9d01-fc1d-4935-9247-6d24a1ce9107","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":24,"unit":"px"},"text":"You are logged in as "},"ports":[],"children":[]},{"id":"f771d74b-8fd8-74ec-1f3e-e489ce3e22a7","type":"Text","parameters":{"sizeMode":"contentSize","fontSize":{"value":24,"unit":"px"},"text":"","color":"#FF0000","fontFamily":"fonts/Roboto/Roboto-BlackItalic.ttf"},"ports":[],"children":[]}]},{"id":"5b1e54d4-caab-18e7-e955-2beeb17ff3f2","type":"Group","parameters":{"alignX":"center","sizeMode":"contentSize"},"ports":[],"children":[{"id":"b5606480-8e21-67bc-617f-9bc3bcc9149c","type":"net.noodl.controls.button","parameters":{"label":"Log out","marginTop":{"value":8,"unit":"px"}},"ports":[],"children":[]}]}]}]}]},{"id":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","type":"States","parameters":{"states":"normal,errorExist,errorBlank,errorNotExist","values":"text","useTransitions":false,"type-text":"string","value-normal-text":" ","value-errorExist-text":"Room id exists, try another one","value-errorBlank-text":"Please type room id","value-errorNotExist-text":"Room id does not exist"},"ports":[],"children":[]},{"id":"ba22dfb8-6979-276e-eef6-68e99991cee9","type":"JavaScriptFunction","parameters":{"functionScript":"const data = {\r\n    \"user_created\": Inputs.user_created,\r\n    \"room_id\": Inputs.room_id\r\n};\r\n\r\nconst record = await pb.collection('room').create(data);"},"ports":[{"name":"in-user_created","displayName":"user_created","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":5}],"children":[]},{"id":"98fd3028-6d37-256d-151d-6a6840e19215","type":"RouterNavigate","parameters":{"router":"Main","target":"/login"},"ports":[],"children":[]},{"id":"81f19daa-2345-ac21-617b-3f0f7870dd4f","type":"JavaScriptFunction","parameters":{"functionScript":"if(pb.authStore.isValid === false) Outputs.notLogin();\r\nelse {\r\n    Outputs.isLogin();\r\n    const record = await pb.collection('users').getOne(pb.authStore.model.id);\r\n    Outputs.username = record.username;\r\n}","scriptOutputs":[{"id":"s7q2","label":"username"}]},"ports":[{"name":"outtype-username","displayName":"Type","editorName":"username | Type","plug":"input","type":{"name":"enum","enums":[{"value":"string","label":"String"},{"value":"boolean","label":"Boolean"},{"value":"number","label":"Number"},{"value":"object","label":"Object"},{"value":"date","label":"Date"},{"value":"array","label":"Array"},{"value":"color","label":"Color"},{"value":"signal","label":"Signal"}],"allowEditOnly":true},"default":"string","parent":"scriptOutputs","parentItemId":"s7q2","index":4},{"name":"out-username","displayName":"username","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-notLogin","displayName":"notLogin","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-isLogin","displayName":"isLogin","plug":"output","type":"signal","group":"Outputs","index":7}],"children":[]},{"id":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.start();\r\nconst records = await pb.collection('room').getFullList({\r\n    sort: '-created',\r\n});\r\nOutputs.room_list = records.items;\r\nOutputs.done();"},"ports":[{"name":"out-start","displayName":"start","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-done","displayName":"done","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-room_list","displayName":"room_list","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"e58c60f2-ee15-dbd4-ea67-511b4bd028f1","type":"Collection2","parameters":{"collectionId":"room_list"},"ports":[],"children":[]},{"id":"567a6b0a-7e12-4276-a0d5-3a66815c5b47","type":"JavaScriptFunction","parameters":{"functionScript":"pb.authStore.clear();\r\nOutputs.done();"},"ports":[{"name":"out-done","displayName":"done","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"8ba4f9d1-f9ff-fcb2-03d7-27aadaa7a787","type":"JavaScriptFunction","parameters":{"functionScript":"pb.collection('room').subscribe('*', function (e) {\r\n    console.log(e.record);\r\n    Outputs.newRoom();\r\n}, { /* other options like expand, custom headers, etc. */ })\r\nOutputs.done();"},"ports":[{"name":"out-newRoom","displayName":"newRoom","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-done","displayName":"done","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]},{"id":"05d3bec6-0fcc-0049-ce78-d9f135e47a0f","type":"JavaScriptFunction","parameters":{"functionScript":"Outputs.room_id = Inputs.room_id;\r\nOutputs.set;"},"ports":[{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-room_id","displayName":"room_id","plug":"output","type":"*","group":"Outputs","index":5},{"name":"out-set","displayName":"set","plug":"output","type":"*","group":"Outputs","index":6}],"children":[]},{"id":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","type":"JavaScriptFunction","parameters":{"functionScript":"const response = await fetch(`https://ikniz.pockethost.io//api/collections/room/records?filter=(room_id=\"${Inputs.room_id}\")`);\r\nconst data = await response.json();\r\nif(data.totalItems != 0) Outputs.fail();\r\nelse Outputs.success();","scriptOutputs":[],"outtype-room_list":"array"},"ports":[{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-fail","displayName":"fail","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-success","displayName":"success","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"f1a9180c-df75-e3de-8f4c-0fe709889972","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.room_id) Outputs.isEmpty();\r\nelse Outputs.notEmpty();"},"ports":[{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-isEmpty","displayName":"isEmpty","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-notEmpty","displayName":"notEmpty","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"6c5e99da-d832-4e33-f237-6b276362148b","type":"/Loading Spinner","parameters":{},"ports":[],"children":[]},{"id":"a1698826-450c-52b7-aea1-a88337e9c8c9","type":"RouterNavigate","parameters":{"router":"Main","target":"/messages"},"ports":[],"children":[]},{"id":"f54cc0a4-58cd-bb44-2cb7-6ffacf57dbae","type":"JavaScriptFunction","parameters":{"functionScript":"if(!Inputs.room_id) Outputs.isEmpty();\r\nelse Outputs.notEmpty();"},"ports":[{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-isEmpty","displayName":"isEmpty","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-notEmpty","displayName":"notEmpty","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]},{"id":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","type":"JavaScriptFunction","parameters":{"functionScript":"const response = await fetch(`https://ikniz.pockethost.io//api/collections/room/records?filter=(room_id=\"${Inputs.room_id}\")`);\r\nconst data = await response.json();\r\nif(data.totalItems != 0) Outputs.Exist();\r\nelse Outputs.nonExistent();","scriptOutputs":[],"outtype-room_list":"array"},"ports":[{"name":"in-room_id","displayName":"room_id","plug":"input","type":"*","group":"Inputs","index":4},{"name":"out-Exist","displayName":"Exist","plug":"output","type":"signal","group":"Outputs","index":5},{"name":"out-nonExistent","displayName":"nonExistent","plug":"output","type":"signal","group":"Outputs","index":6}],"children":[]}],"connections":[{"sourceId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","sourcePort":"text","targetId":"3f9c52b8-9900-e3ab-97aa-f8068e4065b9","targetPort":"text"},{"sourceId":"0d1bb9ec-4a05-1455-d624-958e9790f978","sourcePort":"didMount","targetId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","targetPort":"run"},{"sourceId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","sourcePort":"out-username","targetId":"f771d74b-8fd8-74ec-1f3e-e489ce3e22a7","targetPort":"text"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"ba22dfb8-6979-276e-eef6-68e99991cee9","targetPort":"in-room_id"},{"sourceId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","sourcePort":"out-username","targetId":"ba22dfb8-6979-276e-eef6-68e99991cee9","targetPort":"in-user_created"},{"sourceId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","sourcePort":"out-room_list","targetId":"e58c60f2-ee15-dbd4-ea67-511b4bd028f1","targetPort":"items"},{"sourceId":"e58c60f2-ee15-dbd4-ea67-511b4bd028f1","sourcePort":"items","targetId":"306f9908-87d1-d8a4-6139-0461bf595b36","targetPort":"items"},{"sourceId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","sourcePort":"out-notLogin","targetId":"98fd3028-6d37-256d-151d-6a6840e19215","targetPort":"navigate"},{"sourceId":"b5606480-8e21-67bc-617f-9bc3bcc9149c","sourcePort":"onClick","targetId":"567a6b0a-7e12-4276-a0d5-3a66815c5b47","targetPort":"run"},{"sourceId":"567a6b0a-7e12-4276-a0d5-3a66815c5b47","sourcePort":"out-done","targetId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","targetPort":"run"},{"sourceId":"0d1bb9ec-4a05-1455-d624-958e9790f978","sourcePort":"didMount","targetId":"8ba4f9d1-f9ff-fcb2-03d7-27aadaa7a787","targetPort":"run"},{"sourceId":"8ba4f9d1-f9ff-fcb2-03d7-27aadaa7a787","sourcePort":"out-newRoom","targetId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","targetPort":"run"},{"sourceId":"306f9908-87d1-d8a4-6139-0461bf595b36","sourcePort":"itemOutputSignal-Click","targetId":"05d3bec6-0fcc-0049-ce78-d9f135e47a0f","targetPort":"run"},{"sourceId":"306f9908-87d1-d8a4-6139-0461bf595b36","sourcePort":"itemOutput-room_id","targetId":"05d3bec6-0fcc-0049-ce78-d9f135e47a0f","targetPort":"in-room_id"},{"sourceId":"05d3bec6-0fcc-0049-ce78-d9f135e47a0f","sourcePort":"out-room_id","targetId":"c6187416-fc3e-7b08-1b32-8a201b718e92","targetPort":"startValue"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","targetPort":"in-room_id"},{"sourceId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","sourcePort":"out-done","targetId":"c6187416-fc3e-7b08-1b32-8a201b718e92","targetPort":"clear"},{"sourceId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","sourcePort":"out-success","targetId":"ba22dfb8-6979-276e-eef6-68e99991cee9","targetPort":"run"},{"sourceId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","sourcePort":"out-fail","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-errorExist"},{"sourceId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","sourcePort":"out-success","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-normal"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"f1a9180c-df75-e3de-8f4c-0fe709889972","targetPort":"in-room_id"},{"sourceId":"049476ba-cb44-e143-7aa5-e1c37add2577","sourcePort":"onClick","targetId":"f1a9180c-df75-e3de-8f4c-0fe709889972","targetPort":"run"},{"sourceId":"f1a9180c-df75-e3de-8f4c-0fe709889972","sourcePort":"out-notEmpty","targetId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","targetPort":"run"},{"sourceId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","sourcePort":"out-done","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"f1a9180c-df75-e3de-8f4c-0fe709889972","sourcePort":"out-isEmpty","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-errorBlank"},{"sourceId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","sourcePort":"out-fail","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"bed481dd-1e68-d54f-21cf-356db6c5f5b7","sourcePort":"out-success","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","sourcePort":"out-done","targetId":"a8c6bbe7-29ce-6b92-56ae-785112b5a54b","targetPort":"scrollToIndex.do"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"a1698826-450c-52b7-aea1-a88337e9c8c9","targetPort":"pm-room_id"},{"sourceId":"b5e221cf-8cc1-982e-7306-c84485e125a5","sourcePort":"onClick","targetId":"f54cc0a4-58cd-bb44-2cb7-6ffacf57dbae","targetPort":"run"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"f54cc0a4-58cd-bb44-2cb7-6ffacf57dbae","targetPort":"in-room_id"},{"sourceId":"f54cc0a4-58cd-bb44-2cb7-6ffacf57dbae","sourcePort":"out-isEmpty","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-errorBlank"},{"sourceId":"f54cc0a4-58cd-bb44-2cb7-6ffacf57dbae","sourcePort":"out-notEmpty","targetId":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","targetPort":"run"},{"sourceId":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","sourcePort":"out-Exist","targetId":"a1698826-450c-52b7-aea1-a88337e9c8c9","targetPort":"navigate"},{"sourceId":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","sourcePort":"out-Exist","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-normal"},{"sourceId":"c6187416-fc3e-7b08-1b32-8a201b718e92","sourcePort":"onTextChanged","targetId":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","targetPort":"in-room_id"},{"sourceId":"98fd3028-6d37-256d-151d-6a6840e19215","sourcePort":"navigated","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"a1698826-450c-52b7-aea1-a88337e9c8c9","sourcePort":"navigated","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","sourcePort":"out-notLogin","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Hide"},{"sourceId":"81f19daa-2345-ac21-617b-3f0f7870dd4f","sourcePort":"out-isLogin","targetId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","targetPort":"run"},{"sourceId":"c6c3e4b3-5f63-6668-4694-ed4e053f0871","sourcePort":"out-start","targetId":"6c5e99da-d832-4e33-f237-6b276362148b","targetPort":"Show"},{"sourceId":"f68dabff-f586-e751-0ad1-a5e080e2f9d8","sourcePort":"out-nonExistent","targetId":"f3f26ce8-6bf1-e5a6-b292-d062dade4581","targetPort":"to-errorNotExist"}],"ports":[],"roots":["0d1bb9ec-4a05-1455-d624-958e9790f978"]},{"name":"/room_in_list","nodes":[{"id":"fdcf7d1f-bb41-b983-4be6-da30e7f6c05b","type":"Group","parameters":{"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"styleCss":"/* background-color: red; */\r\ncursor: pointer;"},"ports":[],"children":[{"id":"77cf183a-6320-fbe9-cbd1-e61036b50e54","type":"Group","parameters":{"flexDirection":"row"},"ports":[],"children":[{"id":"77f39e70-9ce6-1ac2-ad48-8f64ca150b7a","type":"Text","parameters":{"fontSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"c9ad6dde-54fe-1e32-8a37-5d49e4a510f9","type":"Text","parameters":{"textAlignX":"right","sizeMode":"contentSize","text":"created by ","textAlignY":"bottom","alignY":"bottom"},"ports":[],"children":[]},{"id":"ae581081-0e92-38e7-20a1-d61831335419","type":"Text","parameters":{"sizeMode":"contentSize","alignY":"bottom","color":"#FF0000","fontFamily":"fonts/Roboto/Roboto-BlackItalic.ttf"},"ports":[],"children":[]}]}]},{"id":"d29039e5-29c8-6978-be4a-49aa87d83308","type":"States","parameters":{"states":"normal,hover","values":"scale","type-bg-color":"color","value-normal-scale":1,"value-hover-scale":1.02,"value-hover-bg-color":"#F8F8F8","value-normal-bg-color":"#FFFFFF"},"ports":[],"children":[]},{"id":"acf49d8a-9fbd-3852-e324-bb6f74759207","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"c43dbc32-85b2-ca46-9bad-c215803839a0","type":"Model2","parameters":{"idSource":"foreach","properties":"room_id,user_created"},"ports":[],"children":[]}],"connections":[{"sourceId":"fdcf7d1f-bb41-b983-4be6-da30e7f6c05b","sourcePort":"hoverStart","targetId":"d29039e5-29c8-6978-be4a-49aa87d83308","targetPort":"to-hover"},{"sourceId":"fdcf7d1f-bb41-b983-4be6-da30e7f6c05b","sourcePort":"hoverEnd","targetId":"d29039e5-29c8-6978-be4a-49aa87d83308","targetPort":"to-normal"},{"sourceId":"d29039e5-29c8-6978-be4a-49aa87d83308","sourcePort":"scale","targetId":"fdcf7d1f-bb41-b983-4be6-da30e7f6c05b","targetPort":"transformScale"},{"sourceId":"fdcf7d1f-bb41-b983-4be6-da30e7f6c05b","sourcePort":"onClick","targetId":"acf49d8a-9fbd-3852-e324-bb6f74759207","targetPort":"Click"},{"sourceId":"c43dbc32-85b2-ca46-9bad-c215803839a0","sourcePort":"prop-room_id","targetId":"77f39e70-9ce6-1ac2-ad48-8f64ca150b7a","targetPort":"text"},{"sourceId":"c43dbc32-85b2-ca46-9bad-c215803839a0","sourcePort":"prop-user_created","targetId":"ae581081-0e92-38e7-20a1-d61831335419","targetPort":"text"},{"sourceId":"c43dbc32-85b2-ca46-9bad-c215803839a0","sourcePort":"prop-room_id","targetId":"acf49d8a-9fbd-3852-e324-bb6f74759207","targetPort":"room_id"}],"ports":[{"name":"Click","type":"signal","plug":"output","index":1},{"name":"room_id","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":2}],"roots":["fdcf7d1f-bb41-b983-4be6-da30e7f6c05b"]},{"name":"/Loading Spinner","nodes":[{"id":"a2592e61-2f55-1d3c-d325-8478ea5d51a7","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"40b2d090-d03b-4c45-ef37-900b81ae1f76","type":"NavigationShowPopup","parameters":{"target":"/Loading Spinner/Loader Component"},"ports":[],"children":[]},{"id":"4a4b64d3-4b0c-3b92-fc0c-8c0cb7d18b77","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"bf994033-35ca-c687-d826-6211d1fb7eb2","type":"JavaScriptFunction","parameters":{"functionScript":"// Decrease loading spinner running counter\nNoodl.Variables.NumLoadingSpinnerRunning--\n\n// When we reach zero, hide the loading spinner\nif(Noodl.Variables.NumLoadingSpinnerRunning < 1)\n    Noodl.Events.emit(\"Hide loader\");"},"ports":[],"children":[]},{"id":"63c45e31-1c61-4213-6d8a-d316363f5087","type":"JavaScriptFunction","parameters":{"functionScript":"// If we have multiple show signals sent, only update the\n// running count\nif(Noodl.Variables.NumLoadingSpinnerRunning > 0)\n    Noodl.Variables.NumLoadingSpinnerRunning++\nelse {\n    // If this is the first show signal, show the popup\n    Noodl.Variables.NumLoadingSpinnerRunning = 1\n    Outputs.ShowPopup()\n}"},"ports":[{"name":"out-ShowPopup","displayName":"ShowPopup","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]}],"connections":[{"sourceId":"40b2d090-d03b-4c45-ef37-900b81ae1f76","sourcePort":"Closed","targetId":"4a4b64d3-4b0c-3b92-fc0c-8c0cb7d18b77","targetPort":"Done"},{"sourceId":"a2592e61-2f55-1d3c-d325-8478ea5d51a7","sourcePort":"Hide","targetId":"bf994033-35ca-c687-d826-6211d1fb7eb2","targetPort":"run"},{"sourceId":"a2592e61-2f55-1d3c-d325-8478ea5d51a7","sourcePort":"Show","targetId":"63c45e31-1c61-4213-6d8a-d316363f5087","targetPort":"run"},{"sourceId":"63c45e31-1c61-4213-6d8a-d316363f5087","sourcePort":"out-ShowPopup","targetId":"40b2d090-d03b-4c45-ef37-900b81ae1f76","targetPort":"show"}],"ports":[{"name":"Done","type":"signal","plug":"output","index":1},{"name":"Show","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":1},{"name":"Hide","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":2}],"roots":[]},{"name":"/Loading Spinner/Loader Component","nodes":[{"id":"3832a305-dc59-b7b4-8d8e-5ca9c582e1f2","type":"Group","parameters":{"position":"absolute","width":{"value":100,"unit":"vw"},"height":{"value":100,"unit":"vh"},"backgroundColor":"#FFFFFF7F"},"ports":[],"children":[{"id":"b02e6b7f-d725-a07b-207c-f379cbbc5631","type":"Image","parameters":{"src":"Rolling-1s-200px.svg","sizeMode":"explicit","position":"absolute","alignX":"center","alignY":"center","width":{"value":100,"unit":"px"},"height":{"value":100,"unit":"px"}},"ports":[],"children":[]}]},{"id":"72a8d641-9e48-fd95-a097-767241e93434","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"7d89958b-3245-c452-f368-da82c0b5ab6c","type":"JavaScriptFunction","parameters":{"functionScript":"Noodl.Events.on(\"Hide loader\", function () {\n    Outputs.hide();\n});"},"ports":[{"name":"out-hide","displayName":"hide","plug":"output","type":"signal","group":"Outputs","index":4}],"children":[]},{"id":"8a47b912-0b16-2840-ba44-6dd9afaf8954","type":"States","parameters":{"states":"Show,Hide","currentState":"Hide","values":"opacity","value-Show-opacity":1,"value-Hide-opacity":0},"ports":[],"children":[]}],"connections":[{"sourceId":"3832a305-dc59-b7b4-8d8e-5ca9c582e1f2","sourcePort":"didMount","targetId":"8a47b912-0b16-2840-ba44-6dd9afaf8954","targetPort":"to-Show"},{"sourceId":"7d89958b-3245-c452-f368-da82c0b5ab6c","sourcePort":"out-hide","targetId":"8a47b912-0b16-2840-ba44-6dd9afaf8954","targetPort":"to-Hide"},{"sourceId":"8a47b912-0b16-2840-ba44-6dd9afaf8954","sourcePort":"reached-Hide","targetId":"72a8d641-9e48-fd95-a097-767241e93434","targetPort":"close"},{"sourceId":"8a47b912-0b16-2840-ba44-6dd9afaf8954","sourcePort":"opacity","targetId":"3832a305-dc59-b7b4-8d8e-5ca9c582e1f2","targetPort":"opacity"}],"ports":[],"roots":["3832a305-dc59-b7b4-8d8e-5ca9c582e1f2"]}]